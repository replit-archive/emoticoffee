<!doctype html>
<html>
  <head>
    <script type="text/javascript" src="emoticon.js"></script>
    <style>
      #code {
        width:500px;
        height:300px;
      }
      #parsed {
        width:500px;
        height:300px;
      }
      #out {
        width:500px;
        height:300px;
      }
    </style>
  </head>
  <body>
    <textarea id="code" >** set up the operator we want to insert **
        8-O : - Q
        $:-O 3 8-$   ** implode the characters we read **

    ** preform the insert **
        E:-O :D      ** clear the : list                                    **
        :-O 0        ** load the length for the splice, 0 means just insert **
        X:-O :-]     ** use prog counter to get the location for the splice **
        :-O 8 :+}    ** increment splice location by offset to location (8) **
        8-O Z:-V      ** actually do the splice                              **

    ** continue after insert **
        :-O 
        not_printed  ** insertion point for new code   **
        S:-P
        printed :-Q</textarea>
    <button id="parse" onclick="execute()">execute</button>
    <textarea id="parsed"></textarea>
    <textarea id="out"></textarea>
    <script>
      var txt = document.getElementById('code');
      var out = document.getElementById('out');
      var parsed = document.getElementById('parsed')
       function execute() {
        var source = new Emoticon.Parser(txt.value);
        parsed.value = source.toString();
        run(source);
      }
      toPrint = [];
      function run(x){
        var config = {
          source: x,
          print: function(o) {alert(o);},
          input: function(cb) {cb(prompt('input'))},
          result: function(lists) {
            var txt = ''
            for (var list in lists) {
              txt += '\n' + list + ': ' + lists[list].toString();
            }
            out.value = txt;
          }
        }
        i = new Emoticon.Interpreter(config);
        i.run()
      }
    </script>
  </body>
</html>