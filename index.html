<!doctype html>
<html>
  <head>
    <script src="emoticon.js"></script>
    <style>
      #code {
        width:500px;
        height:300px;
      }
    </style>
  </head>
  <body>
    <textarea id="code" >** set up the operator we want to insert **
        8-O : - Q
        $:-O 3 8-$   ** implode the characters we read **

    ** preform the insert **
        E:-O :D      ** clear the : list                                    **
        :-O 0        ** load the length for the splice, 0 means just insert **
        X:-O :-]     ** use prog counter to get the location for the splice **
        :-O 8 :+}    ** increment splice location by offset to location (8) **
        8-O Z:-V      ** actually do the splice                              **

    ** continue after insert **
        :-O 
        not_printed  ** insertion point for new code   **
        S:-P
        printed :-Q</textarea>
    <button id="parse" onclick="parse()">parse</button>
    <div id="out"></div>
    <script>
      var txt = document.getElementById('code');
      var out = document.getElementById('out');
       function parse() {
        console.time('a')
        var x = new Emoticon.Parser(txt.value)
        console.log(x.toString())
        run(x)
        console.timeEnd('a')
      }
      toPrint = [];
      function run(x){
        var config = {
          source: x,
          print: function(o) {alert(o);},
          input: function(cb) {cb(prompt('input'))},
          result: function(res) {console.log(res)}
        }
        i = new Emoticon.Interpreter(config);
        i.run()
      }
    </script>
  </body>
</html>